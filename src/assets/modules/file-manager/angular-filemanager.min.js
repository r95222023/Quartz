!function(e,n,t){"use strict";n.module("FileManagerApp",["pascalprecht.translate","ngFileUpload"]),t(e.document).on("shown.bs.modal",".modal",function(){e.setTimeout(function(){t("[autofocus]",this).focus()}.bind(this),100)}),t(e.document).on("click",function(){t("#context-menu").hide()}),t(e.document).on("contextmenu",'.main-navigation .table-files tr.item-list:has("td"), .item-list',function(e){var n=t("#context-menu"),r=document.getElementById("fileManagerContainer"),i=r.getBoundingClientRect();e.pageX-=i.left,e.pageY-=i.top,n.hide().css({left:e.pageX,top:e.pageY}).show(),e.preventDefault()}),Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n,t=Object(this),r=t.length>>>0,i=arguments[1],a=0;a<r;a++)if(n=t[a],e.call(i,n,a,t))return n})}(window,angular,jQuery),function(e,n){"use strict";e.module("FileManagerApp").controller("FileManagerCtrl",["$scope","$rootScope","$window","$translate","fileManagerConfig","item","fileNavigator","apiMiddleware",function(e,t,r,i,a,o,s,l){var d=r.localStorage;e.config=a,e.reverse=!1,e.predicate=["model.type","model.name"],e.order=function(n){e.reverse=e.predicate[1]===n&&!e.reverse,e.predicate[1]=n},e.query="",e.fileNavigator=new s,e.apiMiddleware=new l,e.uploadFileList=[],e.viewTemplate=d.getItem("viewTemplate")||"main-icons.html",e.fileList=[],e.temps=[],e.$watch("temps",function(){e.singleSelection()?e.temp=e.singleSelection():(e.temp=new o({rights:644}),e.temp.multiple=!0),e.temp.revert()}),e.fileNavigator.onRefresh=function(){e.temps=[],e.query="",t.selectedModalPath=e.fileNavigator.currentPath},e.setTemplate=function(n){d.setItem("viewTemplate",n),e.viewTemplate=n},e.changeLanguage=function(e){return e?(d.setItem("language",e),i.use(e)):void i.use(d.getItem("language")||a.defaultLang)},e.isSelected=function(n){return e.temps.indexOf(n)!==-1},e.selectOrUnselect=function(n,t){var r=e.temps.indexOf(n),i=t&&3==t.which;if(t&&t.target.hasAttribute("prevent"))return void(e.temps=[]);if(!(!n||i&&e.isSelected(n))){if(t&&t.shiftKey&&!i){var a=e.fileList,o=a.indexOf(n),s=e.temps[0],l=a.indexOf(s),d=void 0;if(s&&a.indexOf(s)<o){for(e.temps=[];l<=o;)d=a[l],!e.isSelected(d)&&e.temps.push(d),l++;return}if(s&&a.indexOf(s)>o){for(e.temps=[];l>=o;)d=a[l],!e.isSelected(d)&&e.temps.push(d),l--;return}}return t&&!i&&(t.ctrlKey||t.metaKey)?void(e.isSelected(n)?e.temps.splice(r,1):e.temps.push(n)):void(e.temps=[n])}},e.singleSelection=function(){return 1===e.temps.length&&e.temps[0]},e.totalSelecteds=function(){return{total:e.temps.length}},e.selectionHas=function(n){return e.temps.find(function(e){return e&&e.model.type===n})},e.prepareNewFolder=function(){var n=new o(null,e.fileNavigator.currentPath);return e.temps=[n],n},e.smartClick=function(n){var t=e.config.allowedActions.pickFiles;if(n.isFolder())return e.fileNavigator.folderClick(n);if("function"==typeof e.config.pickCallback&&t){var r=e.config.pickCallback(n.model);if(r===!0)return}return n.isImage()?e.config.previewImagesInModal?e.openImagePreview(n):e.apiMiddleware.download(n,!0):n.isEditable()?e.openEditItem(n):void 0},e.openImagePreview=function(){var n=e.singleSelection();e.apiMiddleware.apiHandler.inprocess=!0,e.apiMiddleware.getUrl(n).then(function(n){e.modal("imagepreview",null,!0).find("#imagepreview-target").attr("src",n).unbind("load error").on("load error",function(){e.apiMiddleware.apiHandler.inprocess=!1,e.$apply()})})},e.openEditItem=function(){var n=e.singleSelection();e.apiMiddleware.getContent(n).then(function(e){n.tempModel.content=n.model.content=e.result}),e.modal("edit")},e.modal=function(t,r,i){var a=n("#"+t);return a.modal(r?"hide":"show"),e.apiMiddleware.apiHandler.error="",e.apiMiddleware.apiHandler.asyncSuccess=!1,!i||a},e.modalWithPathSelector=function(n){return t.selectedModalPath=e.fileNavigator.currentPath,e.modal(n)},e.isInThisPath=function(n){var t=e.fileNavigator.currentPath.join("/")+"/";return t.indexOf(n+"/")!==-1},e.edit=function(){e.apiMiddleware.edit(e.singleSelection()).then(function(){e.modal("edit",!0)})},e.changePermissions=function(){e.apiMiddleware.changePermissions(e.temps,e.temp).then(function(){e.modal("changepermissions",!0)})},e.download=function(){var n=e.singleSelection();if(!e.selectionHas("dir"))return n?e.apiMiddleware.download(n):e.apiMiddleware.downloadMultiple(e.temps)},e.copy=function(){var n=e.singleSelection();if(n){var r=n.tempModel.name.trim(),a=e.fileNavigator.fileNameExists(r);if(a&&c(n))return e.apiMiddleware.apiHandler.error=i.instant("error_invalid_filename"),!1;if(!r)return e.apiMiddleware.apiHandler.error=i.instant("error_invalid_filename"),!1}e.apiMiddleware.copy(e.temps,t.selectedModalPath).then(function(){e.fileNavigator.refresh(),e.modal("copy",!0)})},e.compress=function(){var n=e.temp.tempModel.name.trim(),r=e.fileNavigator.fileNameExists(n);return r&&c(e.temp)?(e.apiMiddleware.apiHandler.error=i.instant("error_invalid_filename"),!1):n?void e.apiMiddleware.compress(e.temps,n,t.selectedModalPath).then(function(){return e.fileNavigator.refresh(),e.config.compressAsync?void(e.apiMiddleware.apiHandler.asyncSuccess=!0):e.modal("compress",!0)},function(){e.apiMiddleware.apiHandler.asyncSuccess=!1}):(e.apiMiddleware.apiHandler.error=i.instant("error_invalid_filename"),!1)},e.extract=function(){var n=e.temp,r=e.temp.tempModel.name.trim(),a=e.fileNavigator.fileNameExists(r);return a&&c(e.temp)?(e.apiMiddleware.apiHandler.error=i.instant("error_invalid_filename"),!1):r?void e.apiMiddleware.extract(n,r,t.selectedModalPath).then(function(){return e.fileNavigator.refresh(),e.config.extractAsync?void(e.apiMiddleware.apiHandler.asyncSuccess=!0):e.modal("extract",!0)},function(){e.apiMiddleware.apiHandler.asyncSuccess=!1}):(e.apiMiddleware.apiHandler.error=i.instant("error_invalid_filename"),!1)},e.remove=function(){e.apiMiddleware.remove(e.temps).then(function(){e.fileNavigator.refresh(),e.modal("remove",!0)})},e.move=function(){var n=e.singleSelection()||e.temps[0];return n&&c(n)?(e.apiMiddleware.apiHandler.error=i.instant("error_cannot_move_same_path"),!1):void e.apiMiddleware.move(e.temps,t.selectedModalPath).then(function(){e.fileNavigator.refresh(),e.modal("move",!0)})},e.rename=function(){var n=e.singleSelection(),t=n.tempModel.name,r=n.tempModel.path.join("")===n.model.path.join("");return!t||r&&e.fileNavigator.fileNameExists(t)?(e.apiMiddleware.apiHandler.error=i.instant("error_invalid_filename"),!1):void e.apiMiddleware.rename(n).then(function(){e.fileNavigator.refresh(),e.modal("rename",!0)})},e.createFolder=function(){var n=e.singleSelection(),t=n.tempModel.name;return!t||e.fileNavigator.fileNameExists(t)?e.apiMiddleware.apiHandler.error=i.instant("error_invalid_filename"):void e.apiMiddleware.createFolder(n).then(function(){e.fileNavigator.refresh(),e.modal("newfolder",!0)})},e.addForUpload=function(n){e.uploadFileList=e.uploadFileList.concat(n),e.modal("uploadfile")},e.removeFromUpload=function(n){e.uploadFileList.splice(n,1)},e.uploadFiles=function(){e.apiMiddleware.upload(e.uploadFileList,e.fileNavigator.currentPath).then(function(){e.fileNavigator.refresh(),e.uploadFileList=[],e.modal("uploadfile",!0)},function(n){var t=n.result&&n.result.error||i.instant("error_uploading_files");e.apiMiddleware.apiHandler.error=t})};var c=function(e){var n=t.selectedModalPath.join(""),r=e&&e.model.path.join("");return r===n},p=function(e){var n=r.location.search.substr(1).split("&").filter(function(n){return e===n.split("=")[0]});return n[0]&&n[0].split("=")[1]||void 0};e.isWindows="Windows"===p("server"),e.fileNavigator.refresh()}])}(angular,jQuery),function(e){"use strict";e.module("FileManagerApp").controller("ModalFileManagerCtrl",["$scope","$rootScope","fileNavigator",function(e,n,t){e.reverse=!1,e.predicate=["model.type","model.name"],e.fileNavigator=new t,n.selectedModalPath=[],e.order=function(n){e.reverse=e.predicate[1]===n&&!e.reverse,e.predicate[1]=n},e.select=function(t){n.selectedModalPath=t.model.fullPath().split("/"),e.modal("selector",!0)},e.selectCurrent=function(){n.selectedModalPath=e.fileNavigator.currentPath,e.modal("selector",!0)},e.selectedFilesAreChildOfPath=function(n){var t=n.model.fullPath();return e.temps.find(function(e){var n=e.model.fullPath();if(t==n)return!0})},n.openNavigator=function(n){e.fileNavigator.currentPath=n,e.fileNavigator.refresh(),e.modal("selector")},n.getSelectedPath=function(){var t=n.selectedModalPath.filter(Boolean),r="/"+t.join("/");return e.singleSelection()&&!e.singleSelection().isFolder()&&(r+="/"+e.singleSelection().tempModel.name),r.replace(/\/\//,"/")}}])}(angular),function(e){"use strict";var n=e.module("FileManagerApp");n.directive("angularFilemanager",["$parse","fileManagerConfig",function(e,n){return{restrict:"EA",templateUrl:n.tplPath+"/main.html"}}]),n.directive("ngFile",["$parse",function(e){return{restrict:"A",link:function(n,t,r){var i=e(r.ngFile),a=i.assign;t.bind("change",function(){n.$apply(function(){a(n,t[0].files)})})}}}]),n.directive("ngRightClick",["$parse",function(e){return function(n,t,r){var i=e(r.ngRightClick);t.bind("contextmenu",function(e){n.$apply(function(){e.preventDefault(),i(n,{$event:e})})})}}])}(angular),function(e){"use strict";e.module("FileManagerApp").service("chmod",function(){var e=function(e){if(this.owner=this.getRwxObj(),this.group=this.getRwxObj(),this.others=this.getRwxObj(),e){var n=isNaN(e)?this.convertfromCode(e):this.convertfromOctal(e);if(!n)throw new Error("Invalid chmod input data (%s)".replace("%s",e));this.owner=n.owner,this.group=n.group,this.others=n.others}};return e.prototype.toOctal=function(e,n){var t=[];return["owner","group","others"].forEach(function(e,n){t[n]=this[e].read&&this.octalValues.read||0,t[n]+=this[e].write&&this.octalValues.write||0,t[n]+=this[e].exec&&this.octalValues.exec||0}.bind(this)),(e||"")+t.join("")+(n||"")},e.prototype.toCode=function(e,n){var t=[];return["owner","group","others"].forEach(function(e,n){t[n]=this[e].read&&this.codeValues.read||"-",t[n]+=this[e].write&&this.codeValues.write||"-",t[n]+=this[e].exec&&this.codeValues.exec||"-"}.bind(this)),(e||"")+t.join("")+(n||"")},e.prototype.getRwxObj=function(){return{read:!1,write:!1,exec:!1}},e.prototype.octalValues={read:4,write:2,exec:1},e.prototype.codeValues={read:"r",write:"w",exec:"x"},e.prototype.convertfromCode=function(e){if(e=(""+e).replace(/\s/g,""),e=10===e.length?e.substr(1):e,/^[-rwxts]{9}$/.test(e)){var n=[],t=e.match(/.{1,3}/g);for(var r in t){var i=this.getRwxObj();i.read=/r/.test(t[r]),i.write=/w/.test(t[r]),i.exec=/x|t/.test(t[r]),n.push(i)}return{owner:n[0],group:n[1],others:n[2]}}},e.prototype.convertfromOctal=function(e){if(e=(""+e).replace(/\s/g,""),e=4===e.length?e.substr(1):e,/^[0-7]{3}$/.test(e)){var n=[],t=e.match(/.{1}/g);for(var r in t){var i=this.getRwxObj();i.read=/[4567]/.test(t[r]),i.write=/[2367]/.test(t[r]),i.exec=/[1357]/.test(t[r]),n.push(i)}return{owner:n[0],group:n[1],others:n[2]}}},e})}(angular),function(e){"use strict";e.module("FileManagerApp").factory("item",["fileManagerConfig","chmod",function(n,t){var r=function(n,r){var i={name:n&&n.name||"",path:r||[],type:n&&n.type||"file",size:n&&parseInt(n.size||0),date:n&&new Date(n.date),perms:new t(n&&n.rights),content:n&&n.content||"",recursive:!1,fullPath:function(){var e=this.path.filter(Boolean);return("/"+e.join("/")+"/"+this.name).replace(/\/\//,"/")}};this.error="",this.processing=!1,this.model=e.copy(i),this.tempModel=e.copy(i)};return r.prototype.update=function(){e.extend(this.model,e.copy(this.tempModel))},r.prototype.revert=function(){e.extend(this.tempModel,e.copy(this.model)),this.error=""},r.prototype.isFolder=function(){return"dir"===this.model.type},r.prototype.isEditable=function(){return!this.isFolder()&&n.isEditableFilePattern.test(this.model.name)},r.prototype.isImage=function(){return n.isImageFilePattern.test(this.model.name)},r.prototype.isCompressible=function(){return this.isFolder()},r.prototype.isExtractable=function(){return!this.isFolder()&&n.isExtractableFilePattern.test(this.model.name)},r.prototype.isSelectable=function(){return this.isFolder()&&n.allowedActions.pickFolders||!this.isFolder()&&n.allowedActions.pickFiles},r}])}(angular),function(e){"use strict";var n=e.module("FileManagerApp");n.filter("strLimit",["$filter",function(e){return function(n,t,r){return n.length<=t?n:e("limitTo")(n,t)+(r||"...")}}]),n.filter("fileExtension",["$filter",function(e){return function(n){return/\./.test(n)&&e("strLimit")(n.split(".").pop(),3,"..")||""}}]),n.filter("formatDate",["$filter",function(){return function(e){return e instanceof Date?e.toISOString().substring(0,19).replace("T"," "):(e.toLocaleString||e.toString).apply(e)}}]),n.filter("humanReadableFileSize",["$filter","fileManagerConfig",function(e,n){var t=[" kB"," MB"," GB"," TB","PB","EB","ZB","YB"],r=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];return function(e){var i=-1,a=e;do a/=1024,i++;while(a>1024);var o=n.useBinarySizePrefixes?r[i]:t[i];return Math.max(a,.1).toFixed(1)+" "+o}}])}(angular),function(e){"use strict";e.module("FileManagerApp").provider("fileManagerConfig",function(){var n={appName:"angular-filemanager v1.5",listUrl:"bridges/php/handler.php",uploadUrl:"bridges/php/handler.php",renameUrl:"bridges/php/handler.php",copyUrl:"bridges/php/handler.php",moveUrl:"bridges/php/handler.php",removeUrl:"bridges/php/handler.php",editUrl:"bridges/php/handler.php",getContentUrl:"bridges/php/handler.php",createFolderUrl:"bridges/php/handler.php",downloadFileUrl:"bridges/php/handler.php",downloadMultipleUrl:"bridges/php/handler.php",compressUrl:"bridges/php/handler.php",extractUrl:"bridges/php/handler.php",permissionsUrl:"bridges/php/handler.php",searchForm:!0,sidebar:!0,breadcrumb:!0,allowedActions:{upload:!0,rename:!0,move:!0,copy:!0,edit:!0,changePermissions:!0,compress:!0,compressChooseName:!0,extract:!0,download:!0,downloadMultiple:!0,preview:!0,remove:!0,createFolder:!0,pickFiles:!1,pickFolders:!1},multipleDownloadFileName:"angular-filemanager.zip",showExtensionIcons:!0,showSizeForDirectories:!1,useBinarySizePrefixes:!1,downloadFilesByAjax:!0,previewImagesInModal:!0,enablePermissionsRecursive:!0,compressAsync:!1,extractAsync:!1,pickCallback:null,isEditableFilePattern:/\.(txt|diff?|patch|svg|asc|cnf|cfg|conf|html?|.html|cfm|cgi|aspx?|ini|pl|py|md|css|cs|js|jsp|log|htaccess|htpasswd|gitignore|gitattributes|env|json|atom|eml|rss|markdown|sql|xml|xslt?|sh|rb|as|bat|cmd|cob|for|ftn|frm|frx|inc|lisp|scm|coffee|php[3-6]?|java|c|cbl|go|h|scala|vb|tmpl|lock|go|yml|yaml|tsv|lst)$/i,isImageFilePattern:/\.(jpe?g|gif|bmp|png|svg|tiff?)$/i,isExtractableFilePattern:/\.(gz|tar|rar|g?zip)$/i,tplPath:"src/templates"};return{$get:function(){return n},set:function(t){e.extend(n,t)}}})}(angular),function(e){"use strict";e.module("FileManagerApp").config(["$translateProvider",function(e){e.useSanitizeValueStrategy(null),e.translations("en",{filemanager:"File Manager",language:"Language",english:"English",spanish:"Spanish",portuguese:"Portuguese",french:"French",german:"German",hebrew:"Hebrew",slovak:"Slovak",chinese:"Chinese",russian:"Russian",ukrainian:"Ukrainian",turkish:"Turkish",persian:"Persian",polish:"Polish",confirm:"Confirm",cancel:"Cancel",close:"Close",upload_files:"Upload files",files_will_uploaded_to:"Files will be uploaded to",select_files:"Select files",uploading:"Uploading",permissions:"Permissions",select_destination_folder:"Select the destination folder",source:"Source",destination:"Destination",copy_file:"Copy file",sure_to_delete:"Are you sure to delete",change_name_move:"Change name / move",enter_new_name_for:"Enter new name for",extract_item:"Extract item",extraction_started:"Extraction started in a background process",compression_started:"Compression started in a background process",enter_folder_name_for_extraction:"Enter the folder name for the extraction of",enter_file_name_for_compression:"Enter the file name for the compression of",toggle_fullscreen:"Toggle fullscreen",edit_file:"Edit file",file_content:"File content",loading:"Loading",search:"Search",create_folder:"Create folder",create:"Create",folder_name:"Folder name",upload:"Upload",change_permissions:"Change permissions",change:"Change",details:"Details",icons:"Icons",list:"List",name:"Name",size:"Size",actions:"Actions",date:"Date",selection:"Selection",no_files_in_folder:"No files in this folder",no_folders_in_folder:"This folder not contains children folders",select_this:"Select this",go_back:"Go back",wait:"Wait",move:"Move",download:"Download",view_item:"View item",remove:"Delete",edit:"Edit",copy:"Copy",rename:"Rename",extract:"Extract",compress:"Compress",error_invalid_filename:"Invalid filename or already exists, specify another name",error_modifying:"An error occurred modifying the file",error_deleting:"An error occurred deleting the file or folder",error_renaming:"An error occurred renaming the file",error_copying:"An error occurred copying the file",error_compressing:"An error occurred compressing the file or folder",error_extracting:"An error occurred extracting the file",error_creating_folder:"An error occurred creating the folder",error_getting_content:"An error occurred getting the content of the file",error_changing_perms:"An error occurred changing the permissions of the file",error_uploading_files:"An error occurred uploading files",sure_to_start_compression_with:"Are you sure to compress",owner:"Owner",group:"Group",others:"Others",read:"Read",write:"Write",exec:"Exec",original:"Original",changes:"Changes",recursive:"Recursive",preview:"Item preview",open:"Open",these_elements:"these {{total}} elements",new_folder:"New folder",download_as_zip:"Download as ZIP"}),e.translations("pt",{filemanager:"Gerenciador de arquivos",language:"Língua",english:"Inglês",spanish:"Espanhol",portuguese:"Portugues",french:"Francês",german:"Alemão",hebrew:"Hebraico",slovak:"Eslovaco",chinese:"Chinês",russian:"Russo",ukrainian:"Ucraniano",turkish:"Turco",persian:"Persa",polish:"Polonês",confirm:"Confirmar",cancel:"Cancelar",close:"Fechar",upload_files:"Carregar arquivos",files_will_uploaded_to:"Os arquivos serão enviados para",select_files:"Selecione os arquivos",uploading:"Carregar",permissions:"Autorizações",select_destination_folder:"Selecione a pasta de destino",source:"Origem",destination:"Destino",copy_file:"Copiar arquivo",sure_to_delete:"Tem certeza de que deseja apagar",change_name_move:"Renomear / mudança",enter_new_name_for:"Digite o novo nome para",extract_item:"Extrair arquivo",extraction_started:"A extração começou em um processo em segundo plano",compression_started:"A compressão começou em um processo em segundo plano",enter_folder_name_for_extraction:"Digite o nome da pasta para a extração de",enter_file_name_for_compression:"Digite o nome do arquivo para a compressão de",toggle_fullscreen:"Ativar/desativar tela cheia",edit_file:"Editar arquivo",file_content:"Conteúdo do arquivo",loading:"Carregando",search:"Localizar",create_folder:"Criar Pasta",create:"Criar",folder_name:"Nome da pasta",upload:"Fazer",change_permissions:"Alterar permissões",change:"Alterar",details:"Detalhes",icons:"Icones",list:"Lista",name:"Nome",size:"Tamanho",actions:"Ações",date:"Data",selection:"Seleção",no_files_in_folder:"Não há arquivos nesta pasta",no_folders_in_folder:"Esta pasta não contém subpastas",select_this:"Selecione esta",go_back:"Voltar",wait:"Espere",move:"Mover",download:"Baixar",view_item:"Veja o arquivo",remove:"Excluir",edit:"Editar",copy:"Copiar",rename:"Renomear",extract:"Extrair",compress:"Comprimir",error_invalid_filename:"Nome do arquivo inválido ou nome de arquivo já existe, especifique outro nome",error_modifying:"Ocorreu um erro ao modificar o arquivo",error_deleting:"Ocorreu um erro ao excluir o arquivo ou pasta",error_renaming:"Ocorreu um erro ao mudar o nome do arquivo",error_copying:"Ocorreu um erro ao copiar o arquivo",error_compressing:"Ocorreu um erro ao comprimir o arquivo ou pasta",error_extracting:"Ocorreu um erro ao extrair o arquivo",error_creating_folder:"Ocorreu um erro ao criar a pasta",error_getting_content:"Ocorreu um erro ao obter o conteúdo do arquivo",error_changing_perms:"Ocorreu um erro ao alterar as permissões do arquivo",error_uploading_files:"Ocorreu um erro upload de arquivos",sure_to_start_compression_with:"Tem certeza que deseja comprimir",owner:"Proprietário",group:"Grupo",others:"Outros",read:"Leitura",write:"Escrita ",exec:"Execução",original:"Original",changes:"Mudanças",recursive:"Recursiva",preview:"Visualização",open:"Abrir",these_elements:"estes {{total}} elements",new_folder:"Nova pasta",download_as_zip:"Download como ZIP"}),e.translations("fr",{filemanager:"Gestionnaire de fichier",language:"Langue",english:"Anglais",spanish:"Espagnol",portuguese:"Portugais",french:"Français",german:"Allemand",hebrew:"Hébreu",slovak:"Slovaque",chinese:"Chinois",russian:"Russe",ukrainian:"Ukrainien",turkish:"Turc",persian:"Persan",polish:"Polonais",confirm:"Confirmer",cancel:"Annuler",close:"Fermer",upload_files:"Télécharger des fichiers",files_will_uploaded_to:"Les fichiers seront uploadé dans",select_files:"Sélectionnez les fichiers",uploading:"Upload en cours",permissions:"Permissions",select_destination_folder:"Sélectionné le dossier de destination",source:"Source",destination:"Destination",copy_file:"Copier le fichier",sure_to_delete:"Êtes-vous sûr de vouloir supprimer",change_name_move:"Renommer / Déplacer",enter_new_name_for:"Entrer le nouveau nom pour",extract_item:"Extraires les éléments",extraction_started:"L'extraction a démarré en tâche de fond",compression_started:"La compression a démarré en tâche de fond",enter_folder_name_for_extraction:"Entrer le nom du dossier pour l'extraction de",enter_file_name_for_compression:"Entrez le nom de fichier pour la compression de",toggle_fullscreen:"Basculer en plein écran",edit_file:"Éditer le fichier",file_content:"Contenu du fichier",loading:"Chargement en cours",search:"Recherche",create_folder:"Créer un dossier",create:"Créer",folder_name:"Nom du dossier",upload:"Upload",change_permissions:"Changer les permissions",change:"Changer",details:"Details",icons:"Icons",list:"Liste",name:"Nom",size:"Taille",actions:"Actions",date:"Date",selection:"Sélection",no_files_in_folder:"Aucun fichier dans ce dossier",no_folders_in_folder:"Ce dossier ne contiens pas de dossier",select_this:"Sélectionner",go_back:"Retour",wait:"Patienter",move:"Déplacer",download:"Télécharger",view_item:"Voir l'élément",remove:"Supprimer",edit:"Éditer",copy:"Copier",rename:"Renommer",extract:"Extraire",compress:"Compresser",error_invalid_filename:"Nom de fichier invalide ou déjà existant, merci de spécifier un autre nom",error_modifying:"Une erreur est survenue pendant la modification du fichier",error_deleting:"Une erreur est survenue pendant la suppression du fichier ou du dossier",error_renaming:"Une erreur est survenue pendant le renommage du fichier",error_copying:"Une erreur est survenue pendant la copie du fichier",error_compressing:"Une erreur est survenue pendant la compression du fichier ou du dossier",error_extracting:"Une erreur est survenue pendant l'extraction du fichier",error_creating_folder:"Une erreur est survenue pendant la création du dossier",error_getting_content:"Une erreur est survenue pendant la récupération du contenu du fichier",error_changing_perms:"Une erreur est survenue pendant le changement des permissions du fichier",error_uploading_files:"Une erreur est survenue pendant l'upload des fichiers",sure_to_start_compression_with:"Êtes-vous sûre de vouloir compresser",owner:"Propriétaire",group:"Groupe",others:"Autres",read:"Lecture",write:"Écriture",exec:"Éxécution",original:"Original",changes:"Modifications",recursive:"Récursif",preview:"Aperçu",open:"Ouvrir",these_elements:"ces {{total}} éléments",new_folder:"Nouveau dossier",download_as_zip:"Télécharger comme ZIP"}),e.translations("zh",{filemanager:"檔案管理員",language:"語言",english:"英語",spanish:"西班牙語",portuguese:"葡萄牙語",french:"法語",german:"德語",hebrew:"希伯來語",slovak:"斯洛伐克語",chinese:"中文",russian:"俄語",ukrainian:"烏克蘭與",turkish:"土耳其語",persian:"波斯語",polish:"波蘭語",confirm:"確定",cancel:"取消",close:"關閉",upload_files:"上傳檔案",files_will_uploaded_to:"上傳到",select_files:"選擇檔案",uploading:"上傳中",permissions:"權限",select_destination_folder:"選擇目標檔案",source:"來源",destination:"目的地",copy_file:"複製",sure_to_delete:"確定刪除？",change_name_move:"移動並改名？",enter_new_name_for:"輸入新名稱",extract_item:"解壓縮",extraction_started:"正在解壓縮",compression_started:"正在壓縮",enter_folder_name_for_extraction:"解壓縮到",enter_file_name_for_compression:"壓縮檔案名稱",toggle_fullscreen:"切換全螢幕",edit_file:"編輯文件",file_content:"文件內容",loading:"載入中",search:"搜尋",create_folder:"建立檔案夾",create:"建立新檔案",folder_name:"檔案夾名稱",upload:"上傳",change_permissions:"修改權限",change:"修改",details:"內容",icons:"圖示",list:"列表",name:"名稱",size:"檔案大小",actions:"動作",date:"日期",selection:"選擇",no_files_in_folder:"此資料夾沒有檔案",no_folders_in_folder:"此資料夾不包含子資料夾",select_this:"選擇檔案",go_back:"回到上一頁",wait:"等待",move:"移動",download:"下載",view_item:"檢視",remove:"刪除",edit:"編輯",copy:"複製",rename:"重命名",extract:"解壓縮",compress:"壓縮",error_invalid_filename:"無效檔案名或檔案已經存在，請指定其他名稱",error_modifying:"修改文件時出錯",error_deleting:"刪除文件時出錯",error_renaming:"重命名文件時出錯",error_copying:"複製文件時出錯",error_compressing:"壓縮文件時出錯",error_extracting:"解壓縮錯誤",error_creating_folder:"建立檔案夾出錯",error_getting_content:"取得檔案內容出錯",error_changing_perms:"修改權限時出錯",error_uploading_files:"上傳錯誤",sure_to_start_compression_with:"確定要壓縮？",owner:"擁有者",group:"群組",others:"其他",read:"讀取",write:"寫入",exec:"執行",original:"原始",changes:"變化",recursive:"遞迴",preview:"預覽",open:"打開",these_elements:"共 {{total}} 個",new_folder:"新檔案夾",download_as_zip:"下載ZIP"})}])}(angular),function(e,n){"use strict";e.module("FileManagerApp").service("apiHandler",["$http","$q","$window","$translate","snippets","$firebase","$firebaseStorage",function(t,r,i,a,o,s,l){function d(e){var n=e.split("/"),t=n.pop();return{root:n.join("/"),fileName:t}}function c(n){var t=r.defer();return s.queryRef("files").child(s.getValidKey(n)+"/_content").once("value",function(i){var a=i.val();if(null===a)l.ref(m+n,{isJs:!1})["delete"]().then(function(){t.resolve()});else{var o=[];e.forEach(a,function(t){e.isObject(t)&&o.push(c(n+"/"+t.name))}),r.all(o).then(t.resolve)}}),t.promise}function p(e){var n=r.defer(),t=d(e),i=[];return c(e).then(function(){i[0]=s.queryRef("files").child(s.getValidKey(e)).set(null),i[1]=s.queryRef("files").child(s.getValidKey(t.root)+"/_content/"+s.getValidKey(t.fileName)).set(null),r.all(i).then(n.resolve)}),n.promise}function u(n,t,i,a,o){var d=this,c="/"===a?"/":a+"/",p=s.getValidKey(c),u=r.defer(),f=[],g={};return d.inprocess=!0,d.error="",e.forEach(i,function(e){var t=e.split("/"),r=o||t.pop(),i=l.copy(m+e,m+c+(o||r),"move"===n,function(e){g[s.getValidKey(r)]={rights:"drwxr-xr-x",size:e.size,date:new Date(e.timeCreated).getTime(),name:r,type:"file"}});if("move"===n){var a=t.join("/"),d=""===a?"/":a+"/";i.then(function(){s.queryRef("files").child(d+"_content").child(s.getValidKey(r)).remove()})}f.push(i)}),r.all(f).then(function(){s.queryRef("files").child(p+"_content").update(g),d.deferredHandler({action:n,items:i,newPath:a},u,200),d.inprocess=!1}),u.promise}t.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var m="file-root-path?path=",f=function(){this.inprocess=!1,this.asyncSuccess=!1,this.error=""};return f.prototype.deferredHandler=function(e,n,t,r){return e&&"object"==typeof e||(this.error="Error %s - Bridge response error, please check the API docs or this ajax response.".replace("%s",t)),404==t&&(this.error="Error 404 - Backend bridge is not working, please check the ajax response."),e.result&&e.result.error&&(this.error=e.result.error),!this.error&&e.error&&(this.error=e.error.message),!this.error&&r&&(this.error=r),this.error?n.reject(e):n.resolve(e)},f.prototype.list=function(n,t,i){var a=this,o=i||a.deferredHandler,l=r.defer();a.inprocess=!0,a.error="";var d=s.getValidKey(t);return s.queryRef("files").child(d+"/_content").once("value",function(n){var t=n.val(),r={result:[]};e.forEach(t,function(n){e.isObject(n)&&r.result.push(n)}),o(r,l,200),a.inprocess=!1},function(){o({},l,404)}),l.promise},f.prototype.copy=function(e,n,t,r){return u.apply(this,["copy",e,n,t,r])},f.prototype.move=function(e,n,t){return u.apply(this,["move",e,n,t])},f.prototype.remove=function(n,t){var i=this,a=r.defer(),o={action:"remove",items:t};i.inprocess=!0,i.error="";var s=[];return e.forEach(t,function(e){s.push(p(e))}),r.all(s).then(function(){i.deferredHandler(o,a,200),i.inprocess=!1}),a.promise},f.prototype.upload=function(e,n,t){var i=this,a=r.defer();i.inprocess=!0,i.progress=0,i.error="";var o={},d=s.getValidKey(n);if(t&&t.length){for(var c=0;c<t.length;c++)l.ref(m+n+"/"+t[c].name,{isJs:!1}).put(t[c]),o[s.getValidKey(t[c].name)]={rights:"drwxr-xr-x",size:t[c].size,date:t[c].lastModified,name:t[c].name,type:"file"};s.queryRef("files").child(d+"/_content").update(o).then(function(){var e={result:{error:null,success:!0}};i.deferredHandler(e,a,200),i.inprocess=!1,i.progress=0,i.progress=Math.min(100,parseInt(100))-1})}return a.promise},f.prototype.getContent=function(e,n){var i=this,o=r.defer(),s={action:"getContent",item:n};return i.inprocess=!0,i.error="",t.post(e,s).success(function(e,n){i.deferredHandler(e,o,n)}).error(function(e,n){i.deferredHandler(e,o,n,a.instant("error_getting_content"))})["finally"](function(){i.inprocess=!1}),o.promise},f.prototype.edit=function(e,n,i){var o=this,s=r.defer(),l={action:"edit",item:n,content:i};return o.inprocess=!0,o.error="",t.post(e,l).success(function(e,n){o.deferredHandler(e,s,n)}).error(function(e,n){o.deferredHandler(e,s,n,a.instant("error_modifying"))})["finally"](function(){o.inprocess=!1}),s.promise},f.prototype.rename=function(e,n,i){var o=this,s=r.defer(),l={action:"rename",item:n,newItemPath:i};return o.inprocess=!0,o.error="",t.post(e,l).success(function(e,n){o.deferredHandler(e,s,n)}).error(function(e,n){o.deferredHandler(e,s,n,a.instant("error_renaming"))})["finally"](function(){o.inprocess=!1}),s.promise},f.prototype.getUrl=function(e,n){return l.ref(m+n,{isJs:!1}).getDownloadURL()},f.prototype.download=function(e,n,t){var i=this,s=r.defer();return i.inprocess=!0,l.ref(m+n,{isJs:!1}).getMetadata().then(function(e){var n=l.getSingleDownloadUrl(e.downloadURLs),r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType="arraybuffer",r.onload=function(){200==this.status&&(o.saveData(r.response,t,e.contentType),i.inprocess=!1)},r.addEventListener("error",function(){i.deferredHandler("error",s,r.status,a.instant("error_downloading")),o.downloadURI(n,t),i.inprocess=!1}),r.send()}),s.promise},f.prototype.downloadMultiple=function(e,o,s,l,d){var c=this,p=r.defer(),u={action:"downloadMultiple",items:o,toFilename:s},m=[e,n.param(u)].join("?");return l&&!d&&i.saveAs?(c.inprocess=!0,t.get(e).success(function(e){var n=new i.Blob([e]);p.resolve(e),i.saveAs(n,s)}).error(function(e,n){c.deferredHandler(e,p,n,a.instant("error_downloading"))})["finally"](function(){c.inprocess=!1}),p.promise):(!i.saveAs&&i.console.log("Your browser dont support ajax download, downloading by default"),!!i.open(m,"_blank",""))},f.prototype.compress=function(e,n,i,o){var s=this,l=r.defer(),d={action:"compress",items:n,destination:o,compressedFilename:i};return s.inprocess=!0,s.error="",t.post(e,d).success(function(e,n){s.deferredHandler(e,l,n)}).error(function(e,n){s.deferredHandler(e,l,n,a.instant("error_compressing"))})["finally"](function(){s.inprocess=!1}),l.promise},f.prototype.extract=function(e,n,i,o){var s=this,l=r.defer(),d={action:"extract",item:n,destination:o,folderName:i};return s.inprocess=!0,s.error="",t.post(e,d).success(function(e,n){s.deferredHandler(e,l,n)}).error(function(e,n){s.deferredHandler(e,l,n,a.instant("error_extracting"))})["finally"](function(){s.inprocess=!1}),l.promise},f.prototype.changePermissions=function(e,n,i,o,s){var l=this,d=r.defer(),c={action:"changePermissions",items:n,
perms:i,permsCode:o,recursive:!!s};return l.inprocess=!0,l.error="",t.post(e,c).success(function(e,n){l.deferredHandler(e,d,n)}).error(function(e,n){l.deferredHandler(e,d,n,a.instant("error_changing_perms"))})["finally"](function(){l.inprocess=!1}),d.promise},f.prototype.createFolder=function(e,n){var t=this,i=r.defer(),a=d(n),o=s.getValidKey(a.root),l=a.fileName;return s.queryRef("files").child(s.getValidKey(n)).update({_content:{__created:!0}}),s.queryRef("files").child(o+"/_content/"+s.getValidKey(l)).update({rights:"drwxr-xr-x",size:0,date:(new Date).getTime(),name:l,type:"dir"}).then(function(){var e={result:{error:null,success:!0}};t.deferredHandler(e,i,200),t.inprocess=!1,t.progress=0,t.progress=Math.min(100,parseInt(100))-1}),t.inprocess=!0,t.error="",i.promise},f}])}(angular,jQuery),function(e,n){"use strict";e.module("FileManagerApp").service("apiHandler2",["$http","$q","$window","$translate","Upload",function(e,t,r,i,a){e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var o=function(){this.inprocess=!1,this.asyncSuccess=!1,this.error=""};return o.prototype.deferredHandler=function(e,n,t,r){return e&&"object"==typeof e||(this.error="Error %s - Bridge response error, please check the API docs or this ajax response.".replace("%s",t)),404==t&&(this.error="Error 404 - Backend bridge is not working, please check the ajax response."),e.result&&e.result.error&&(this.error=e.result.error),!this.error&&e.error&&(this.error=e.error.message),!this.error&&r&&(this.error=r),this.error?n.reject(e):n.resolve(e)},o.prototype.list=function(n,r,i){var a=this,o=i||a.deferredHandler,s=t.defer(),l={action:"list",path:r};return a.inprocess=!0,a.error="",e.post(n,l).success(function(e,n){console.log(e),o(e,s,n)}).error(function(e,n){o(e,s,n,"Unknown error listing, check the response")})["finally"](function(){a.inprocess=!1}),s.promise},o.prototype.copy=function(n,r,a,o){var s=this,l=t.defer(),d={action:"copy",items:r,newPath:a};return o&&1===r.length&&(d.singleFilename=o),s.inprocess=!0,s.error="",e.post(n,d).success(function(e,n){s.deferredHandler(e,l,n)}).error(function(e,n){s.deferredHandler(e,l,n,i.instant("error_copying"))})["finally"](function(){s.inprocess=!1}),l.promise},o.prototype.move=function(n,r,a){var o=this,s=t.defer(),l={action:"move",items:r,newPath:a};return o.inprocess=!0,o.error="",e.post(n,l).success(function(e,n){o.deferredHandler(e,s,n)}).error(function(e,n){o.deferredHandler(e,s,n,i.instant("error_moving"))})["finally"](function(){o.inprocess=!1}),s.promise},o.prototype.remove=function(n,r){var a=this,o=t.defer(),s={action:"remove",items:r};return a.inprocess=!0,a.error="",e.post(n,s).success(function(e,n){a.deferredHandler(e,o,n)}).error(function(e,n){a.deferredHandler(e,o,n,i.instant("error_deleting"))})["finally"](function(){a.inprocess=!1}),o.promise},o.prototype.upload=function(e,n,r){var i=this,o=t.defer();i.inprocess=!0,i.progress=0,i.error="",console.log(n);for(var s={destination:n},l=0;l<r.length;l++)s["file-"+l]=r[l];return r&&r.length&&a.upload({url:e,data:s}).then(function(e){console.log(e),i.deferredHandler(e.data,o,e.status)},function(e){i.deferredHandler(e.data,o,e.status,"Unknown error uploading files")},function(e){i.progress=Math.min(100,parseInt(100*e.loaded/e.total))-1})["finally"](function(){i.inprocess=!1,i.progress=0}),o.promise},o.prototype.getContent=function(n,r){var a=this,o=t.defer(),s={action:"getContent",item:r};return a.inprocess=!0,a.error="",e.post(n,s).success(function(e,n){a.deferredHandler(e,o,n)}).error(function(e,n){a.deferredHandler(e,o,n,i.instant("error_getting_content"))})["finally"](function(){a.inprocess=!1}),o.promise},o.prototype.edit=function(n,r,a){var o=this,s=t.defer(),l={action:"edit",item:r,content:a};return o.inprocess=!0,o.error="",e.post(n,l).success(function(e,n){o.deferredHandler(e,s,n)}).error(function(e,n){o.deferredHandler(e,s,n,i.instant("error_modifying"))})["finally"](function(){o.inprocess=!1}),s.promise},o.prototype.rename=function(n,r,a){var o=this,s=t.defer(),l={action:"rename",item:r,newItemPath:a};return o.inprocess=!0,o.error="",e.post(n,l).success(function(e,n){o.deferredHandler(e,s,n)}).error(function(e,n){o.deferredHandler(e,s,n,i.instant("error_renaming"))})["finally"](function(){o.inprocess=!1}),s.promise},o.prototype.getUrl=function(e,t){var r={action:"download",path:t};return t&&[e,n.param(r)].join("?")},o.prototype.download=function(n,a,o,s,l){var d=this,c=this.getUrl(n,a);if(!s||l||!r.saveAs)return!r.saveAs&&r.console.log("Your browser dont support ajax download, downloading by default"),!!r.open(c,"_blank","");var p=t.defer();return d.inprocess=!0,e.get(c).success(function(e){var n=new r.Blob([e]);p.resolve(e),r.saveAs(n,o)}).error(function(e,n){d.deferredHandler(e,p,n,i.instant("error_downloading"))})["finally"](function(){d.inprocess=!1}),p.promise},o.prototype.downloadMultiple=function(a,o,s,l,d){var c=this,p=t.defer(),u={action:"downloadMultiple",items:o,toFilename:s},m=[a,n.param(u)].join("?");return l&&!d&&r.saveAs?(c.inprocess=!0,e.get(a).success(function(e){var n=new r.Blob([e]);p.resolve(e),r.saveAs(n,s)}).error(function(e,n){c.deferredHandler(e,p,n,i.instant("error_downloading"))})["finally"](function(){c.inprocess=!1}),p.promise):(!r.saveAs&&r.console.log("Your browser dont support ajax download, downloading by default"),!!r.open(m,"_blank",""))},o.prototype.compress=function(n,r,a,o){var s=this,l=t.defer(),d={action:"compress",items:r,destination:o,compressedFilename:a};return s.inprocess=!0,s.error="",e.post(n,d).success(function(e,n){s.deferredHandler(e,l,n)}).error(function(e,n){s.deferredHandler(e,l,n,i.instant("error_compressing"))})["finally"](function(){s.inprocess=!1}),l.promise},o.prototype.extract=function(n,r,a,o){var s=this,l=t.defer(),d={action:"extract",item:r,destination:o,folderName:a};return s.inprocess=!0,s.error="",e.post(n,d).success(function(e,n){s.deferredHandler(e,l,n)}).error(function(e,n){s.deferredHandler(e,l,n,i.instant("error_extracting"))})["finally"](function(){s.inprocess=!1}),l.promise},o.prototype.changePermissions=function(n,r,a,o,s){var l=this,d=t.defer(),c={action:"changePermissions",items:r,perms:a,permsCode:o,recursive:!!s};return l.inprocess=!0,l.error="",e.post(n,c).success(function(e,n){l.deferredHandler(e,d,n)}).error(function(e,n){l.deferredHandler(e,d,n,i.instant("error_changing_perms"))})["finally"](function(){l.inprocess=!1}),d.promise},o.prototype.createFolder=function(n,r){var a=this,o=t.defer(),s={action:"createFolder",newPath:r};return a.inprocess=!0,a.error="",console.log(s),e.post(n,s).success(function(e,n){console.log(e),a.deferredHandler(e,o,n)}).error(function(e,n){a.deferredHandler(e,o,n,i.instant("error_creating_folder"))})["finally"](function(){a.inprocess=!1}),o.promise},o}])}(angular,jQuery),function(e){"use strict";e.module("FileManagerApp").service("apiMiddleware",["$window","fileManagerConfig","apiHandler",function(e,n,t){var r=function(){this.apiHandler=new t};return r.prototype.getPath=function(e){return"/"+e.join("/")},r.prototype.getFileList=function(e){return(e||[]).map(function(e){return e&&e.model.fullPath()})},r.prototype.getFilePath=function(e){return e&&e.model.fullPath()},r.prototype.list=function(e,t){return this.apiHandler.list(n.listUrl,this.getPath(e),t)},r.prototype.copy=function(e,t){var r=this.getFileList(e),i=1===r.length?e[0].tempModel.name:void 0;return this.apiHandler.copy(n.copyUrl,r,this.getPath(t),i)},r.prototype.move=function(e,t){var r=this.getFileList(e);return this.apiHandler.move(n.moveUrl,r,this.getPath(t))},r.prototype.remove=function(e){var t=this.getFileList(e);return this.apiHandler.remove(n.removeUrl,t)},r.prototype.upload=function(t,r){if(!e.FormData)throw new Error("Unsupported browser version");var i=this.getPath(r);return this.apiHandler.upload(n.uploadUrl,i,t)},r.prototype.getContent=function(e){var t=this.getFilePath(e);return this.apiHandler.getContent(n.getContentUrl,t)},r.prototype.edit=function(e){var t=this.getFilePath(e);return this.apiHandler.edit(n.editUrl,t,e.tempModel.content)},r.prototype.rename=function(e){var t=this.getFilePath(e),r=e.tempModel.fullPath();return this.apiHandler.rename(n.renameUrl,t,r)},r.prototype.getUrl=function(e){var t=this.getFilePath(e);return this.apiHandler.getUrl(n.downloadFileUrl,t)},r.prototype.download=function(e,t){var r=this.getFilePath(e),i=e.model.name;if(!e.isFolder())return this.apiHandler.download(n.downloadFileUrl,r,i,n.downloadFilesByAjax,t)},r.prototype.downloadMultiple=function(e,t){var r=this.getFileList(e),i=(new Date).getTime().toString().substr(8,13),a=i+"-"+n.multipleDownloadFileName;return this.apiHandler.downloadMultiple(n.downloadMultipleUrl,r,a,n.downloadFilesByAjax,t)},r.prototype.compress=function(e,t,r){var i=this.getFileList(e);return this.apiHandler.compress(n.compressUrl,i,t,this.getPath(r))},r.prototype.extract=function(e,t,r){var i=this.getFilePath(e);return this.apiHandler.extract(n.extractUrl,i,t,this.getPath(r))},r.prototype.changePermissions=function(e,t){var r=this.getFileList(e),i=t.tempModel.perms.toCode(),a=t.tempModel.perms.toOctal(),o=!!t.tempModel.recursive;return this.apiHandler.changePermissions(n.permissionsUrl,r,i,a,o)},r.prototype.createFolder=function(e){var t=e.tempModel.fullPath();return this.apiHandler.createFolder(n.createFolderUrl,t)},r}])}(angular),function(e){"use strict";e.module("FileManagerApp").service("fileNavigator",["apiMiddleware","fileManagerConfig","item",function(e,n,t){var r=function(){this.apiMiddleware=new e,this.requesting=!1,this.fileList=[],this.currentPath=[],this.history=[],this.error="",this.onRefresh=function(){}};return r.prototype.deferredHandler=function(e,n,t,r){return e&&"object"==typeof e||(this.error="Error %s - Bridge response error, please check the API docs or this ajax response.".replace("%s",t)),404==t&&(this.error="Error 404 - Backend bridge is not working, please check the ajax response."),!this.error&&e.result&&e.result.error&&(this.error=e.result.error),!this.error&&e.error&&(this.error=e.error.message),!this.error&&r&&(this.error=r),this.error?n.reject(e):n.resolve(e)},r.prototype.list=function(){return this.apiMiddleware.list(this.currentPath,this.deferredHandler.bind(this))},r.prototype.refresh=function(){var e=this;e.currentPath.length||(e.currentPath=n.basePath||[]);var r=e.currentPath.join("/");return e.requesting=!0,e.fileList=[],e.list().then(function(n){e.fileList=(n.result||[]).map(function(n){return new t(n,e.currentPath)}),e.buildTree(r),e.onRefresh()})["finally"](function(){e.requesting=!1})},r.prototype.buildTree=function(e){function r(e,n,t){var i=t?t+"/"+n.model.name:n.model.name;if(e.name.trim()&&0!==t.trim().indexOf(e.name)&&(e.nodes=[]),e.name!==t)e.nodes.forEach(function(e){r(e,n,t)});else{for(var a in e.nodes)if(e.nodes[a].name===i)return;e.nodes.push({item:n,name:i,nodes:[]})}e.nodes=e.nodes.sort(function(e,n){return e.name.toLowerCase()<n.name.toLowerCase()?-1:e.name.toLowerCase()===n.name.toLowerCase()?0:1})}function i(e,n){n.push(e);for(var t in e.nodes)i(e.nodes[t],n)}function a(e,n){return e.filter(function(e){return e.name===n})[0]}var o=[],s={};!this.history.length&&this.history.push({name:n.basePath?n.basePath[0]:"",nodes:[]}),i(this.history[0],o),s=a(o,e),s&&(s.nodes=[]);for(var l in this.fileList){var d=this.fileList[l];d instanceof t&&d.isFolder()&&r(this.history[0],d,e)}},r.prototype.folderClick=function(e){this.currentPath=[],e&&e.isFolder()&&(this.currentPath=e.model.fullPath().split("/").splice(1)),this.refresh()},r.prototype.upDir=function(){this.currentPath[0]&&(this.currentPath=this.currentPath.slice(0,-1),this.refresh())},r.prototype.goTo=function(e){this.currentPath=this.currentPath.slice(0,e+1),this.refresh()},r.prototype.fileNameExists=function(e){return this.fileList.find(function(n){return e.trim&&n.model.name.trim()===e.trim()})},r.prototype.listHasFolders=function(){return this.fileList.find(function(e){return"dir"===e.model.type})},r}])}(angular),angular.module("FileManagerApp").run(["$templateCache",function(e){e.put("src/templates/current-folder-breadcrumb.html",'<ol class="breadcrumb">\n    <li>\n        <a href="" ng-click="fileNavigator.goTo(-1)">\n            {{ \'filemanager\'|translate}}\n        </a>\n    </li>\n    <li ng-repeat="(key, dir) in fileNavigator.currentPath track by key" ng-class="{\'active\':$last}" class="animated fast fadeIn">\n        <a href="" ng-show="!$last" ng-click="fileNavigator.goTo(key)">\n            {{dir | strLimit : 8}}\n        </a>\n        <span ng-show="$last">\n            {{dir | strLimit : 12}}\n        </span>\n    </li>\n</ol>'),e.put("src/templates/item-context-menu.html",'<div id="context-menu" class="dropdown clearfix animated fast fadeIn">\n    <ul class="dropdown-menu dropdown-right-click" role="menu" aria-labelledby="dropdownMenu" ng-show="temps.length">\n\n        <li ng-show="singleSelection() && singleSelection().isFolder()">\n            <a href="" tabindex="-1" ng-click="smartClick(singleSelection())">\n                <i class="glyphicon glyphicon-folder-open"></i> {{\'open\' | translate}}\n            </a>\n        </li>\n\n        <li ng-show="config.pickCallback && singleSelection() && singleSelection().isSelectable()">\n            <a href="" tabindex="-1" ng-click="config.pickCallback(singleSelection().model)">\n                <i class="glyphicon glyphicon-hand-up"></i> {{\'select_this\' | translate}}\n            </a>\n        </li>\n\n        <li ng-show="config.allowedActions.download && !selectionHas(\'dir\') && singleSelection()">\n            <a href="" tabindex="-1" ng-click="download()">\n                <i class="glyphicon glyphicon-cloud-download"></i> {{\'download\' | translate}}\n            </a>\n        </li>\n\n        <!--<li ng-show="config.allowedActions.downloadMultiple && !selectionHas(\'dir\') && !singleSelection()">-->\n            <!--<a href="" tabindex="-1" ng-click="download()">-->\n                <!--<i class="glyphicon glyphicon-cloud-download"></i> {{\'download_as_zip\' | translate}}-->\n            <!--</a>-->\n        <!--</li>-->\n\n        <li ng-show="config.allowedActions.preview && singleSelection().isImage() && singleSelection()">\n            <a href="" tabindex="-1" ng-click="openImagePreview()">\n                <i class="glyphicon glyphicon-picture"></i> {{\'view_item\' | translate}}\n            </a>\n        </li>\n\n        <li ng-show="config.allowedActions.rename && singleSelection()">\n            <a href="" tabindex="-1" ng-click="modal(\'rename\')">\n                <i class="glyphicon glyphicon-edit"></i> {{\'rename\' | translate}}\n            </a>\n        </li>\n\n        <li ng-show="config.allowedActions.move">\n            <a href="" tabindex="-1" ng-click="modalWithPathSelector(\'move\')">\n                <i class="glyphicon glyphicon-arrow-right"></i> {{\'move\' | translate}}\n            </a>\n        </li>\n\n        <li ng-show="config.allowedActions.copy && !selectionHas(\'dir\')">\n            <a href="" tabindex="-1" ng-click="modalWithPathSelector(\'copy\')">\n                <i class="glyphicon glyphicon-log-out"></i> {{\'copy\' | translate}}\n            </a>\n        </li>\n\n        <!--<li ng-show="config.allowedActions.edit && singleSelection() && singleSelection().isEditable()">-->\n            <!--<a href="" tabindex="-1" ng-click="openEditItem()">-->\n                <!--<i class="glyphicon glyphicon-pencil"></i> {{\'edit\' | translate}}-->\n            <!--</a>-->\n        <!--</li>-->\n\n        <!--<li ng-show="config.allowedActions.changePermissions">-->\n            <!--<a href="" tabindex="-1" ng-click="modal(\'changepermissions\')">-->\n                <!--<i class="glyphicon glyphicon-lock"></i> {{\'permissions\' | translate}}-->\n            <!--</a>-->\n        <!--</li>-->\n\n        <!--<li ng-show="config.allowedActions.compress && (!singleSelection() || selectionHas(\'dir\'))">-->\n            <!--<a href="" tabindex="-1" ng-click="modal(\'compress\')">-->\n                <!--<i class="glyphicon glyphicon-compressed"></i> {{\'compress\' | translate}}-->\n            <!--</a>-->\n        <!--</li>-->\n\n        <li ng-show="config.allowedActions.extract && singleSelection() && singleSelection().isExtractable()">\n            <a href="" tabindex="-1" ng-click="modal(\'extract\')">\n                <i class="glyphicon glyphicon-export"></i> {{\'extract\' | translate}}\n            </a>\n        </li>\n\n        <li class="divider" ng-show="config.allowedActions.remove"></li>\n        \n        <li ng-show="config.allowedActions.remove">\n            <a href="" tabindex="-1" ng-click="modal(\'remove\')">\n                <i class="glyphicon glyphicon-trash"></i> {{\'remove\' | translate}}\n            </a>\n        </li>\n\n    </ul>\n\n    <ul class="dropdown-menu dropdown-right-click" role="menu" aria-labelledby="dropdownMenu" ng-show="!temps.length">\n        <li ng-show="config.allowedActions.createFolder">\n            <a href="" tabindex="-1" ng-click="modal(\'newfolder\') && prepareNewFolder()">\n                <i class="glyphicon glyphicon-plus"></i> {{\'new_folder\' | translate}}\n            </a>\n        </li>\n        <li ng-show="config.allowedActions.upload">\n            <a href="" tabindex="-1" ng-click="modal(\'uploadfile\')">\n                <i class="glyphicon glyphicon-cloud-upload"></i> {{\'upload_files\' | translate}}\n            </a>\n        </li>\n    </ul>\n</div>'),e.put("src/templates/main-icons.html",'<div class="iconset noselect">\n    <div class="alert alert-warning" ng-show="!fileNavigator.requesting && fileNavigator.fileList.length < 1 && !fileNavigator.error">\n        {{"no_files_in_folder" | translate}}...\n    </div>\n    <div class="item-list clearfix" ng-click="selectOrUnselect(null, $event)" ng-right-click="selectOrUnselect(null, $event)" prevent="true">\n        <div class="col-120" ng-repeat="item in $parent.fileList = (fileNavigator.fileList | filter: {model:{name: query}})" ng-show="!fileNavigator.requesting && !fileNavigator.error">\n            <a style="cursor:default;" href="" class="thumbnail text-center" ng-click="selectOrUnselect(item, $event)" ng-dblclick="smartClick(item)" ng-right-click="selectOrUnselect(item, $event)" title="{{item.model.name}} ({{item.model.size | humanReadableFileSize}})" ng-class="{selected: isSelected(item)}">\n                <div class="item-icon">\n                    <i class="glyphicon glyphicon-folder-open" ng-show="item.model.type === \'dir\'"></i>\n                    <i class="glyphicon glyphicon-file" data-ext="{{ item.model.name | fileExtension }}" ng-show="item.model.type === \'file\'" ng-class="{\'item-extension\': config.showExtensionIcons}"></i>\n                </div>\n                {{item.model.name | strLimit : 11 }}\n            </a>\n        </div>\n    </div>\n\n    <div ng-show="fileNavigator.requesting">\n        <div ng-include="config.tplPath + \'/spinner.html\'"></div>\n    </div>\n\n\n    \n    <div class="alert alert-danger" ng-show="!fileNavigator.requesting && fileNavigator.error">\n        {{ fileNavigator.error }}\n    </div>\n</div>'),e.put("src/templates/main-table-modal.html",'<table class="table table-condensed table-modal-condensed mb0">\n    <thead>\n        <tr>\n            <th>\n                <a href="" ng-click="order(\'model.name\')">\n                    {{"name" | translate}}\n                    <span class="sortorder" ng-show="predicate[1] === \'model.name\'" ng-class="{reverse:reverse}"></span>\n                </a>\n            </th>\n            <th class="text-right"></th>\n        </tr>\n    </thead>\n    <tbody class="file-item">\n        <tr ng-show="fileNavigator.requesting">\n            <td colspan="2">\n                <div ng-include="config.tplPath + \'/spinner.html\'"></div>\n            </td>\n        </tr>\n        <tr ng-show="!fileNavigator.requesting && !fileNavigator.listHasFolders() && !fileNavigator.error">\n            <td>\n                {{"no_folders_in_folder" | translate}}...\n            </td>\n            <td class="text-right">\n                <button class="btn btn-sm btn-default" ng-click="fileNavigator.upDir()">{{"go_back" | translate}}</button>\n            </td>\n        </tr>\n        <tr ng-show="!fileNavigator.requesting && fileNavigator.error">\n            <td colspan="2">\n                {{ fileNavigator.error }}\n            </td>\n        </tr>\n        <tr ng-repeat="item in fileNavigator.fileList | orderBy:predicate:reverse" ng-show="!fileNavigator.requesting && item.model.type === \'dir\'" ng-if="!selectedFilesAreChildOfPath(item)">\n            <td>\n                <a href="" ng-click="fileNavigator.folderClick(item)" title="{{item.model.name}} ({{item.model.size | humanReadableFileSize}})">\n                    <i class="glyphicon glyphicon-folder-close"></i>\n                    {{item.model.name | strLimit : 32}}\n                </a>\n            </td>\n            <td class="text-right">\n                <button class="btn btn-sm btn-default" ng-click="select(item)">\n                    <i class="glyphicon glyphicon-hand-up"></i> {{"select_this" | translate}}\n                </button>\n            </td>\n        </tr>\n    </tbody>\n</table>'),e.put("src/templates/main-table.html",'<table class="table mb0 table-files noselect">\n    <thead>\n        <tr>\n            <th>\n                <a href="" ng-click="order(\'model.name\')">\n                    {{"name" | translate}}\n                    <span class="sortorder" ng-show="predicate[1] === \'model.name\'" ng-class="{reverse:reverse}"></span>\n                </a>\n            </th>\n            <th class="hidden-xs" ng-hide="config.hideSize">\n                <a href="" ng-click="order(\'model.size\')">\n                    {{"size" | translate}}\n                    <span class="sortorder" ng-show="predicate[1] === \'model.size\'" ng-class="{reverse:reverse}"></span>\n                </a>\n            </th>\n            <th class="hidden-sm hidden-xs" ng-hide="config.hideDate" style="width:200px;">\n                <a href="" ng-click="order(\'model.date\')">\n                    {{"date" | translate}}\n                    <span class="sortorder" ng-show="predicate[1] === \'model.date\'" ng-class="{reverse:reverse}"></span>\n                </a>\n            </th>\n            <!--<th class="hidden-sm hidden-xs" ng-hide="config.hidePermissions">-->\n                <!--<a href="" ng-click="order(\'model.permissions\')">-->\n                    <!--{{"permissions" | translate}}-->\n                    <!--<span class="sortorder" ng-show="predicate[1] === \'model.permissions\'" ng-class="{reverse:reverse}"></span>-->\n                <!--</a>-->\n            <!--</th>-->\n        </tr>\n    </thead>\n    <tbody class="file-item">\n        <tr ng-show="fileNavigator.requesting">\n            <td colspan="5">\n                <div ng-include="config.tplPath + \'/spinner.html\'"></div>\n            </td>\n        </tr>\n        <tr ng-show="!fileNavigator.requesting &amp;&amp; fileNavigator.fileList.length < 1 &amp;&amp; !fileNavigator.error">\n            <td colspan="5">\n                {{"no_files_in_folder" | translate}}...\n            </td>\n        </tr>\n        <tr ng-show="!fileNavigator.requesting &amp;&amp; fileNavigator.error">\n            <td colspan="5">\n                {{ fileNavigator.error }}\n            </td>\n        </tr>\n        <tr class="item-list" ng-repeat="item in $parent.fileList = (fileNavigator.fileList | filter: {model:{name: query}} | orderBy:predicate:reverse)" ng-show="!fileNavigator.requesting" ng-click="selectOrUnselect(item, $event)" ng-dblclick="smartClick(item)" ng-right-click="selectOrUnselect(item, $event)" ng-class="{selected: isSelected(item)}">\n            <td>\n                <a href="" title="{{item.model.name}} ({{item.model.size | humanReadableFileSize}})">\n                    <i class="glyphicon glyphicon-folder-close" ng-show="item.model.type === \'dir\'"></i>\n                    <i class="glyphicon glyphicon-file" ng-show="item.model.type === \'file\'"></i>\n                    {{item.model.name | strLimit : 64}}\n                </a>\n            </td>\n            <td class="hidden-xs">\n                <span ng-show="item.model.type !== \'dir\' || config.showSizeForDirectories">\n                    {{item.model.size | humanReadableFileSize}}\n                </span>\n            </td>\n            <td class="hidden-sm hidden-xs" ng-hide="config.hideDate" style="width:200px;">\n                {{item.model.date | formatDate }}\n            </td>\n            <!--<td class="hidden-sm hidden-xs" ng-hide="config.hidePermissions">-->\n                <!--{{item.model.perms.toCode(item.model.type === \'dir\'?\'d\':\'-\')}}-->\n            <!--</td>-->\n        </tr>\n    </tbody>\n</table>\n'),e.put("src/templates/main.html",'<div ng-controller="FileManagerCtrl" ngf-drop="addForUpload($files)" ngf-drag-over-class="\'upload-dragover\'" ngf-multiple="true" id="fileManagerContainer">\n    <div ng-include="config.tplPath + \'/navbar.html\'"></div>\n\n    <div class="container-fluid">\n        <div class="row">\n\n            <div class="col-sm-4 col-md-3 sidebar file-tree animated slow fadeIn" ng-include="config.tplPath + \'/sidebar.html\'" ng-show="config.sidebar &amp;&amp; fileNavigator.history[0]">\n            </div>\n\n            <div class="main" ng-class="config.sidebar &amp;&amp; fileNavigator.history[0] &amp;&amp; \'col-sm-8 col-md-9\'">\n                <div ng-include="config.tplPath + \'/\' + viewTemplate" class="main-navigation clearfix"></div>\n            </div>\n        </div>\n    </div>\n\n    <div ng-include="config.tplPath + \'/modals.html\'"></div>\n    <div ng-include="config.tplPath + \'/item-context-menu.html\'"></div>\n</div>\n'),e.put("src/templates/modals.html",'<div class="modal animated fadeIn" id="imagepreview">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal">\n            <span aria-hidden="true">&times;</span>\n            <span class="sr-only">{{"close" | translate}}</span>\n        </button>\n        <h4 class="modal-title">{{"preview" | translate}}</h4>\n      </div>\n      <div class="modal-body">\n        <div class="text-center">\n          <img id="imagepreview-target" class="preview" alt="{{singleSelection().model.name}}" ng-class="{\'loading\': apiMiddleware.apiHandler.inprocess}">\n          <span class="label label-warning" ng-show="apiMiddleware.apiHandler.inprocess">{{\'loading\' | translate}} ...</span>\n        </div>\n        <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"close" | translate}}</button>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="modal animated fadeIn" id="remove">\n  <div class="modal-dialog">\n    <div class="modal-content">\n    <form ng-submit="remove()">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal">\n            <span aria-hidden="true">&times;</span>\n            <span class="sr-only">{{"close" | translate}}</span>\n        </button>\n        <h4 class="modal-title">{{"confirm" | translate}}</h4>\n      </div>\n      <div class="modal-body">\n        {{\'sure_to_delete\' | translate}} <span ng-include data-src="\'selected-files-msg\'"></span>\n\n        <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"cancel" | translate}}</button>\n        <button type="submit" class="btn btn-primary" ng-disabled="apiMiddleware.apiHandler.inprocess" autofocus="autofocus">{{"remove" | translate}}</button>\n      </div>\n      </form>\n    </div>\n  </div>\n</div>\n\n<div class="modal animated fadeIn" id="move">\n  <div class="modal-dialog">\n    <div class="modal-content">\n        <form ng-submit="move()">\n            <div class="modal-header">\n              <button type="button" class="close" data-dismiss="modal">\n                  <span aria-hidden="true">&times;</span>\n                  <span class="sr-only">{{"close" | translate}}</span>\n              </button>\n              <h4 class="modal-title">{{\'move\' | translate}}</h4>\n            </div>\n            <div class="modal-body">\n              <div ng-include data-src="\'path-selector\'" class="clearfix"></div>\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n            </div>\n            <div class="modal-footer">\n              <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"cancel" | translate}}</button>\n              <button type="submit" class="btn btn-primary" ng-disabled="apiMiddleware.apiHandler.inprocess">{{\'move\' | translate}}</button>\n            </div>\n        </form>\n    </div>\n  </div>\n</div>\n\n\n<div class="modal animated fadeIn" id="rename">\n  <div class="modal-dialog">\n    <div class="modal-content">\n        <form ng-submit="rename()">\n            <div class="modal-header">\n              <button type="button" class="close" data-dismiss="modal">\n                  <span aria-hidden="true">&times;</span>\n                  <span class="sr-only">{{"close" | translate}}</span>\n              </button>\n              <h4 class="modal-title">{{\'rename\' | translate}}</h4>\n            </div>\n            <div class="modal-body">\n              <label class="radio">{{\'enter_new_name_for\' | translate}} <b>{{singleSelection() && singleSelection().model.name}}</b></label>\n              <input class="form-control" ng-model="singleSelection().tempModel.name" autofocus="autofocus">\n\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n            </div>\n            <div class="modal-footer">\n              <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"cancel" | translate}}</button>\n              <button type="submit" class="btn btn-primary" ng-disabled="apiMiddleware.apiHandler.inprocess">{{\'rename\' | translate}}</button>\n            </div>\n        </form>\n    </div>\n  </div>\n</div>\n\n<div class="modal animated fadeIn" id="copy">\n  <div class="modal-dialog">\n    <div class="modal-content">\n        <form ng-submit="copy()">\n            <div class="modal-header">\n              <button type="button" class="close" data-dismiss="modal">\n                  <span aria-hidden="true">&times;</span>\n                  <span class="sr-only">{{"close" | translate}}</span>\n              </button>\n              <h4 class="modal-title">{{\'copy_file\' | translate}}</h4>\n            </div>\n            <div class="modal-body">\n              <div ng-show="singleSelection()">\n                <label class="radio">{{\'enter_new_name_for\' | translate}} <b>{{singleSelection().model.name}}</b></label>\n                <input class="form-control" ng-model="singleSelection().tempModel.name" autofocus="autofocus">\n              </div>\n\n              <div ng-include data-src="\'path-selector\'" class="clearfix"></div>\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n            </div>\n            <div class="modal-footer">\n              <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"cancel" | translate}}</button>\n              <button type="submit" class="btn btn-primary" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"copy" | translate}}</button>\n            </div>\n        </form>\n    </div>\n  </div>\n</div>\n\n<div class="modal animated fadeIn" id="compress">\n  <div class="modal-dialog">\n    <div class="modal-content">\n        <form ng-submit="compress()">\n            <div class="modal-header">\n              <button type="button" class="close" data-dismiss="modal">\n                  <span aria-hidden="true">&times;</span>\n                  <span class="sr-only">{{"close" | translate}}</span>\n              </button>\n              <h4 class="modal-title">{{\'compress\' | translate}}</h4>\n            </div>\n            <div class="modal-body">\n              <div ng-show="apiMiddleware.apiHandler.asyncSuccess">\n                  <div class="label label-success error-msg">{{\'compression_started\' | translate}}</div>\n              </div>\n              <div ng-hide="apiMiddleware.apiHandler.asyncSuccess">\n                  <div ng-hide="config.allowedActions.compressChooseName">\n                    {{\'sure_to_start_compression_with\' | translate}} <b>{{singleSelection().model.name}}</b> ?\n                  </div>\n                  <div ng-show="config.allowedActions.compressChooseName">\n                    <label class="radio">\n                      {{\'enter_file_name_for_compression\' | translate}}\n                      <span ng-include data-src="\'selected-files-msg\'"></span>\n                    </label>\n                    <input class="form-control" ng-model="temp.tempModel.name" autofocus="autofocus">\n                  </div>\n              </div>\n\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n            </div>\n            <div class="modal-footer">\n              <div ng-show="apiMiddleware.apiHandler.asyncSuccess">\n                  <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"close" | translate}}</button>\n              </div>\n              <div ng-hide="apiMiddleware.apiHandler.asyncSuccess">\n                  <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"cancel" | translate}}</button>\n                  <button type="submit" class="btn btn-primary" ng-disabled="apiMiddleware.apiHandler.inprocess">{{\'compress\' | translate}}</button>\n              </div>\n            </div>\n        </form>\n    </div>\n  </div>\n</div>\n\n<div class="modal animated fadeIn" id="extract" ng-init="singleSelection().emptyName()">\n  <div class="modal-dialog">\n    <div class="modal-content">\n        <form ng-submit="extract()">\n            <div class="modal-header">\n              <button type="button" class="close" data-dismiss="modal">\n                  <span aria-hidden="true">&times;</span>\n                  <span class="sr-only">{{"close" | translate}}</span>\n              </button>\n              <h4 class="modal-title">{{\'extract_item\' | translate}}</h4>\n            </div>\n            <div class="modal-body">\n              <div ng-show="apiMiddleware.apiHandler.asyncSuccess">\n                  <div class="label label-success error-msg">{{\'extraction_started\' | translate}}</div>\n              </div>\n              <div ng-hide="apiMiddleware.apiHandler.asyncSuccess">\n                  <label class="radio">{{\'enter_folder_name_for_extraction\' | translate}} <b>{{singleSelection().model.name}}</b></label>\n                  <input class="form-control" ng-model="singleSelection().tempModel.name" autofocus="autofocus">\n              </div>\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n            </div>\n            <div class="modal-footer">\n              <div ng-show="apiMiddleware.apiHandler.asyncSuccess">\n                  <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"close" | translate}}</button>\n              </div>\n              <div ng-hide="apiMiddleware.apiHandler.asyncSuccess">\n                  <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"cancel" | translate}}</button>\n                  <button type="submit" class="btn btn-primary" ng-disabled="apiMiddleware.apiHandler.inprocess">{{\'extract\' | translate}}</button>\n              </div>\n            </div>\n        </form>\n    </div>\n  </div>\n</div>\n\n<div class="modal animated fadeIn" id="edit" ng-class="{\'modal-fullscreen\': fullscreen}">\n  <div class="modal-dialog modal-lg">\n    <div class="modal-content">\n        <form ng-submit="edit()">\n            <div class="modal-header">\n              <button type="button" class="close" data-dismiss="modal">\n                  <span aria-hidden="true">&times;</span>\n                  <span class="sr-only">{{"close" | translate}}</span>\n              </button>\n              <button type="button" class="close fullscreen" ng-click="fullscreen=!fullscreen">\n                  <i class="glyphicon glyphicon-fullscreen"></i>\n                  <span class="sr-only">{{\'toggle_fullscreen\' | translate}}</span>\n              </button>\n              <h4 class="modal-title">{{\'edit_file\' | translate}}</h4>\n            </div>\n            <div class="modal-body">\n                <label class="radio bold">{{ singleSelection().model.fullPath() }}</label>\n                <span class="label label-warning" ng-show="apiMiddleware.apiHandler.inprocess">{{\'loading\' | translate}} ...</span>\n                <textarea class="form-control code" ng-model="singleSelection().tempModel.content" ng-show="!apiMiddleware.apiHandler.inprocess" autofocus="autofocus"></textarea>\n                <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n            </div>\n            <div class="modal-footer">\n              <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{\'close\' | translate}}</button>\n              <button type="submit" class="btn btn-primary" ng-show="config.allowedActions.edit" ng-disabled="apiMiddleware.apiHandler.inprocess">{{\'edit\' | translate}}</button>\n            </div>\n        </form>\n    </div>\n  </div>\n</div>\n\n<div class="modal animated fadeIn" id="newfolder">\n  <div class="modal-dialog">\n    <div class="modal-content">\n        <form ng-submit="createFolder()">\n            <div class="modal-header">\n              <button type="button" class="close" data-dismiss="modal">\n                  <span aria-hidden="true">&times;</span>\n                  <span class="sr-only">{{"close" | translate}}</span>\n              </button>\n              <h4 class="modal-title">{{\'new_folder\' | translate}}</h4>\n            </div>\n            <div class="modal-body">\n              <label class="radio">{{\'folder_name\' | translate}}</label>\n              <input class="form-control" ng-model="singleSelection().tempModel.name" autofocus="autofocus">\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n            </div>\n            <div class="modal-footer">\n              <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"cancel" | translate}}</button>\n              <button type="submit" class="btn btn-primary" ng-disabled="apiMiddleware.apiHandler.inprocess">{{\'create\' | translate}}</button>\n            </div>\n        </form>\n    </div>\n  </div>\n</div>\n\n<div class="modal animated fadeIn" id="uploadfile">\n  <div class="modal-dialog">\n    <div class="modal-content">\n        <form ng-submit="uploadFiles()">\n            <div class="modal-header">\n              <button type="button" class="close" data-dismiss="modal">\n                  <span aria-hidden="true">&times;</span>\n                  <span class="sr-only">{{"close" | translate}}</span>\n              </button>\n              <h4 class="modal-title">{{"upload_files" | translate}}</h4>\n            </div>\n            <div class="modal-body">\n              <label class="radio">\n                {{"files_will_uploaded_to" | translate}} \n                <b>/{{fileNavigator.currentPath.join(\'/\')}}</b>\n              </label>\n              <button class="btn btn-default btn-block" ngf-select="$parent.addForUpload($files)" ngf-multiple="true">\n                {{"select_files" | translate}}\n              </button>\n              \n              <div class="upload-list">\n                <ul class="list-group">\n                  <li class="list-group-item" ng-repeat="(index, uploadFile) in $parent.uploadFileList">\n                    <button class="btn btn-sm btn-danger pull-right" ng-click="$parent.removeFromUpload(index)">\n                        &times;\n                    </button>\n                    <h5 class="list-group-item-heading">{{uploadFile.name}}</h5>\n                    <p class="list-group-item-text">{{uploadFile.size | humanReadableFileSize}}</p>\n                  </li>\n                </ul>\n                <div ng-show="apiMiddleware.apiHandler.inprocess">\n                  <em>{{"uploading" | translate}}... {{apiMiddleware.apiHandler.progress}}%</em>\n                  <div class="progress mb0">\n                    <div class="progress-bar active" role="progressbar" aria-valuenow="{{apiMiddleware.apiHandler.progress}}" aria-valuemin="0" aria-valuemax="100" style="width: {{apiMiddleware.apiHandler.progress}}%"></div>\n                  </div>\n                </div>\n              </div>\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n            </div>\n            <div class="modal-footer">\n              <div>\n                  <button type="button" class="btn btn-default" data-dismiss="modal">{{"cancel" | translate}}</button>\n                  <button type="submit" class="btn btn-primary" ng-disabled="!$parent.uploadFileList.length || apiMiddleware.apiHandler.inprocess">{{\'upload\' | translate}}</button>\n              </div>\n            </div>\n        </form>\n    </div>\n  </div>\n</div>\n\n<div class="modal animated fadeIn" id="changepermissions">\n  <div class="modal-dialog">\n    <div class="modal-content">\n        <form ng-submit="changePermissions()">\n            <div class="modal-header">\n              <button type="button" class="close" data-dismiss="modal">\n                  <span aria-hidden="true">&times;</span>\n                  <span class="sr-only">{{"close" | translate}}</span>\n              </button>\n              <h4 class="modal-title">{{\'change_permissions\' | translate}}</h4>\n            </div>\n            <div class="modal-body">\n              <table class="table mb0">\n                  <thead>\n                      <tr>\n                          <th>{{\'permissions\' | translate}}</th>\n                          <th class="col-xs-1 text-center">{{\'read\' | translate}}</th>\n                          <th class="col-xs-1 text-center">{{\'write\' | translate}}</th>\n                          <th class="col-xs-1 text-center">{{\'exec\' | translate}}</th>\n                      </tr>\n                  </thead>\n                  <tbody>\n                      <tr ng-repeat="(permTypeKey, permTypeValue) in temp.tempModel.perms">\n                          <td>{{permTypeKey | translate}}</td>\n                          <td ng-repeat="(permKey, permValue) in permTypeValue" class="col-xs-1 text-center" ng-click="main()">\n                              <label class="col-xs-12">\n                                <input type="checkbox" ng-model="temp.tempModel.perms[permTypeKey][permKey]">\n                              </label>\n                          </td>\n                      </tr>\n                </tbody>\n              </table>\n              <div class="checkbox" ng-show="config.enablePermissionsRecursive && selectionHas(\'dir\')">\n                <label>\n                  <input type="checkbox" ng-model="temp.tempModel.recursive"> {{\'recursive\' | translate}}\n                </label>\n              </div>\n              <div class="clearfix mt10">\n                  <span class="label label-primary pull-left" ng-hide="temp.multiple">\n                    {{\'original\' | translate}}: \n                    {{temp.model.perms.toCode(selectionHas(\'dir\') ? \'d\':\'-\')}} \n                    ({{temp.model.perms.toOctal()}})\n                  </span>\n                  <span class="label label-primary pull-right">\n                    {{\'changes\' | translate}}: \n                    {{temp.tempModel.perms.toCode(selectionHas(\'dir\') ? \'d\':\'-\')}} \n                    ({{temp.tempModel.perms.toOctal()}})\n                  </span>\n              </div>\n              <div ng-include data-src="\'error-bar\'" class="clearfix"></div>\n            </div>\n            <div class="modal-footer">\n              <button type="button" class="btn btn-default" data-dismiss="modal">{{"cancel" | translate}}</button>\n              <button type="submit" class="btn btn-primary" ng-disabled="">{{\'change\' | translate}}</button>\n            </div>\n        </form>\n    </div>\n  </div>\n</div>\n\n<div class="modal animated fadeIn" id="selector" ng-controller="ModalFileManagerCtrl">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal">\n            <span aria-hidden="true">&times;</span>\n            <span class="sr-only">{{"close" | translate}}</span>\n        </button>\n        <h4 class="modal-title">{{"select_destination_folder" | translate}}</h4>\n      </div>\n      <div class="modal-body">\n        <div>\n            <div ng-include="config.tplPath + \'/current-folder-breadcrumb.html\'"></div>\n            <div ng-include="config.tplPath + \'/main-table-modal.html\'"></div>\n            <hr />\n            <button class="btn btn-sm btn-default" ng-click="selectCurrent()">\n                <i class="glyphicon"></i> {{"select_this" | translate}}\n            </button>\n        </div>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="apiMiddleware.apiHandler.inprocess">{{"close" | translate}}</button>\n      </div>\n    </div>\n  </div>\n</div>\n\n<script type="text/ng-template" id="path-selector">\n  <div class="panel panel-primary mt10 mb0">\n    <div class="panel-body">\n        <div class="detail-sources">\n          <div class="like-code mr5"><b>{{"selection" | translate}}:</b>\n            <span ng-include="\'selected-files-msg\'"></span>\n          </div>\n        </div>\n        <div class="detail-sources">\n          <div class="like-code mr5">\n            <b>{{"destination" | translate}}:</b> {{ getSelectedPath() }}\n          </div>\n          <a href="" class="label label-primary" ng-click="openNavigator(fileNavigator.currentPath)">\n            {{\'change\' | translate}}\n          </a>\n        </div>\n    </div>\n  </div>\n</script>\n\n<script type="text/ng-template" id="error-bar">\n  <div class="label label-danger error-msg pull-left animated fadeIn" ng-show="apiMiddleware.apiHandler.error">\n    <i class="glyphicon glyphicon-remove-circle"></i>\n    <span>{{apiMiddleware.apiHandler.error}}</span>\n  </div>\n</script>\n\n<script type="text/ng-template" id="selected-files-msg">\n  <span ng-show="temps.length == 1">\n    {{singleSelection().model.name}}\n  </span>\n  <span ng-show="temps.length > 1">\n    {{\'these_elements\' | translate:totalSelecteds()}}\n    <a href="" class="label label-primary" ng-click="showDetails = !showDetails">\n      {{showDetails ? \'-\' : \'+\'}} {{\'details\' | translate}}\n    </a>\n  </span>\n  <div ng-show="temps.length > 1 &amp;&amp; showDetails">\n    <ul class="selected-file-details">\n      <li ng-repeat="tempItem in temps">\n        <b>{{tempItem.model.name}}</b>\n      </li>\n    </ul>\n  </div>\n</script>\n'),
e.put("src/templates/navbar.html",'<nav class="navbar navbar-inverse">\n    <div class="container-fluid">\n        <div class="row">\n            <div class="col-sm-9 col-md-10 hidden-xs">\n                <div ng-show="!config.breadcrumb">\n                    <a class="navbar-brand hidden-xs ng-binding" href="">File Manager</a>\n                </div>\n                <div ng-include="config.tplPath + \'/current-folder-breadcrumb.html\'" ng-show="config.breadcrumb">\n                </div>\n            </div>\n            <div class="col-sm-3 col-md-2">\n                <div class="navbar-collapse">\n                    <div class="navbar-form navbar-right text-right">\n                        <div class="btn-group">\n                            <button class="btn btn-flat btn-sm dropdown-toggle" type="button" id="dropDownMenuSearch" data-toggle="dropdown" aria-expanded="true">\n                                <i class="glyphicon glyphicon-search mr2"></i>\n                            </button>\n                            <div class="dropdown-menu animated fast fadeIn pull-right" role="menu" aria-labelledby="dropDownMenuLang">\n                                <input type="text" class="form-control" ng-show="config.searchForm" placeholder="{{\'search\' | translate}}..." ng-model="$parent.query">\n                            </div>\n                        </div>\n\n                        <button class="btn btn-flat btn-sm" ng-click="$parent.setTemplate(\'main-icons.html\')" ng-show="$parent.viewTemplate !==\'main-icons.html\'" title="{{\'icons\' | translate}}">\n                            <i class="glyphicon glyphicon-th-large"></i>\n                        </button>\n\n                        <button class="btn btn-flat btn-sm" ng-click="$parent.setTemplate(\'main-table.html\')" ng-show="$parent.viewTemplate !==\'main-table.html\'" title="{{\'list\' | translate}}">\n                            <i class="glyphicon glyphicon-th-list"></i>\n                        </button>\n\n                        <!--<div class="btn-group">-->\n                            <!--<button class="btn btn-flat btn-sm dropdown-toggle" type="button" id="dropDownMenuLang" data-toggle="dropdown" aria-expanded="true">-->\n                                <!--<i class="glyphicon glyphicon-globe mr2"></i>-->\n                            <!--</button>-->\n\n                            <!--<ul class="dropdown-menu scrollable-menu animated fast fadeIn pull-right" role="menu" aria-labelledby="dropDownMenuLang">-->\n                                <!--<li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'en\')">{{"english" | translate}}</a></li>-->\n                                <!--<li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'zh\')">{{"chinese" | translate}}</a></li>-->\n                                <!--<li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'es\')">{{"spanish" | translate}}</a></li>-->\n                                <!--<li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'pt\')">{{"portuguese" | translate}}</a></li>-->\n                                <!--<li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'fr\')">{{"french" | translate}}</a></li>-->\n                                <!--<li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'de\')">{{"german" | translate}}</a></li>-->\n                                <!--<li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'he\')">{{"hebrew" | translate}}</a></li>-->\n                                <!--<li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'sk\')">{{"slovak" | translate}}</a></li>-->\n                                <!--<li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'ru\')">{{"russian" | translate}}</a></li>-->\n                                <!--<li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'ua\')">{{"ukrainian" | translate}}</a></li>-->\n                                <!--<li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'tr\')">{{"turkish" | translate}}</a></li>-->\n                                <!--<li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'fa\')">{{"persian" | translate}}</a></li>-->\n                                <!--<li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="changeLanguage(\'pl\')">{{"polish" | translate}}</a></li>-->\n                            <!--</ul>-->\n                        <!--</div>-->\n\n                        <div class="btn-group">\n                            <button class="btn btn-flat btn-sm dropdown-toggle" type="button" id="more" data-toggle="dropdown" aria-expanded="true">\n                                <i class="glyphicon glyphicon-option-vertical"></i>\n                            </button>\n\n                            <ul class="dropdown-menu scrollable-menu animated fast fadeIn pull-right" role="menu" aria-labelledby="more">\n                                <li role="presentation" ng-show="config.allowedActions.createFolder" ng-click="modal(\'newfolder\') && prepareNewFolder()">\n                                    <a href="" role="menuitem" tabindex="-1">\n                                        <i class="glyphicon glyphicon-plus"></i> {{"new_folder" | translate}}\n                                    </a>\n                                </li>\n                                <li role="presentation" ng-show="config.allowedActions.upload" ng-click="modal(\'uploadfile\')">\n                                    <a href="" role="menuitem" tabindex="-1">\n                                        <i class="glyphicon glyphicon-cloud-upload"></i> {{"upload_files" | translate}}\n                                    </a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</nav>\n'),e.put("src/templates/sidebar.html",'<ul class="nav nav-sidebar file-tree-root">\n    <li ng-repeat="item in fileNavigator.history" ng-include="\'folder-branch-item\'" ng-class="{\'active\': item.name == fileNavigator.currentPath.join(\'/\')}"></li>\n</ul>\n\n<script type="text/ng-template" id="folder-branch-item">\n    <a href="" ng-click="fileNavigator.folderClick(item.item)" class="animated fast fadeInDown">\n\n        <span class="point">\n            <i class="glyphicon glyphicon-chevron-down" ng-show="isInThisPath(item.name)"></i>\n            <i class="glyphicon glyphicon-chevron-right" ng-show="!isInThisPath(item.name)"></i>\n        </span>\n\n        <i class="glyphicon glyphicon-folder-open mr2" ng-show="isInThisPath(item.name)"></i>\n        <i class="glyphicon glyphicon-folder-close mr2" ng-show="!isInThisPath(item.name)"></i>\n        {{ (item.name.split(\'/\').pop() || \'/\') | strLimit : 30 }}\n    </a>\n    <ul class="nav nav-sidebar">\n        <li ng-repeat="item in item.nodes" ng-include="\'folder-branch-item\'" ng-class="{\'active\': item.name == fileNavigator.currentPath.join(\'/\')}"></li>\n    </ul>\n</script>'),e.put("src/templates/spinner.html",'<div class="spinner-wrapper col-xs-12">\n    <svg class="spinner-container" style="width:65px;height:65px" viewBox="0 0 44 44">\n        <circle class="path" cx="22" cy="22" r="20" fill="none" stroke-width="4"></circle>\n    </svg>\n</div>')}]);