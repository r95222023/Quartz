<div class="padded-content-page">
    <div layout="column" layout-margin style="max-width: 1000px">
        <md-card>
            <div layout="column" ng-cloak class="md-inline-form">
                <md-content layout-padding layout-gt-xs="row" md-theme="docs-dark">
                    <div layout="row">
                        <md-input-container flex="33">
                            <label>Merchant ID</label>
                            <input type='text' ng-model="vm.merchant.id" ng-change="vm.merchantChange()">
                        </md-input-container>
                        <md-input-container flex="33">
                            <label>HashKey</label>
                            <input type='text' ng-model="vm.merchant.hashKey">
                        </md-input-container>
                        <md-input-container flex="33">
                            <label>HashIV</label>
                            <input type='text' ng-model="vm.merchant.hashIV">
                        </md-input-container>
                    </div>
                </md-content>
                <md-content layout-padding layout-gt-xs="row">
                    <form flex name="allpayOrder" ng-submit="vm.submit()" target="_blank" method="post"
                          action="http://payment-stage.allpay.com.tw/Cashier/AioCheckOut">

                        <fieldset>
                            <legend><h3>Order Info</h3></legend>
                            <!--<md-input-container ng-repeat="(name, value) in vm.order" flex-xs="50">-->
                                <!--<label>{{name}}</label>-->
                                <!--<input name="{{name}}" value="{{value}}" ng-model="vm.order[name]">-->
                            <!--</md-input-container>-->
                            <div layout="row">
                                <md-input-container flex="50">
                                    <label>MerchantTradeNo</label>
                                    <input type='text' ng-model="vm.order.MerchantTradeNo">
                                </md-input-container>
                                <md-input-container flex="50">
                                    <label>MerchantTradeDate</label>
                                    <input type='text' ng-model="vm.order.MerchantTradeDate">
                                </md-input-container>
                            </div>
                            <div layout="row">
                                <md-input-container flex="33">
                                    <label>PaymentType</label>
                                    <input type='text' ng-model="vm.order.PaymentType">
                                </md-input-container>
                                <md-input-container flex="33">
                                    <label>ChoosePayment</label>
                                    <input type='text' ng-model="vm.order.ChoosePayment">
                                </md-input-container>
                                <md-input-container flex="33">
                                    <label>TotalAmount</label>
                                    <input type='text' ng-model="vm.order.TotalAmount">
                                </md-input-container>
                            </div>
                            <div layout="row">
                                <md-input-container flex>
                                    <label>TradeDesc</label>
                                    <input type='text' ng-model="vm.order.TradeDesc">
                                </md-input-container>
                            </div>
                            <div layout="row">
                                <md-input-container flex>
                                    <label>ItemName</label>
                                    <input type='text' ng-model="vm.order.ItemName">
                                </md-input-container>
                            </div>
                            <div layout="row">
                                <md-input-container flex="50">
                                    <label>ReturnURL</label>
                                    <input type='text' ng-model="vm.order.ReturnURL">
                                </md-input-container>
                                <md-input-container flex="50">
                                    <label>PaymentInfoURL</label>
                                    <input type='text' ng-model="vm.order.PaymentInfoURL">
                                </md-input-container>
                            </div>
                            <div layout="row">
                                <md-input-container flex="50">
                                    <label>NeedExtraPaidInfo</label>
                                    <input type='text' ng-model="vm.order.NeedExtraPaidInfo">
                                </md-input-container>
                                <md-input-container flex="50">
                                    <label>DeviceSource</label>
                                    <input type='text' ng-model="vm.order.DeviceSource">
                                </md-input-container>
                            </div>
                            <br>
                            <md-button class="md-raised" ng-click="vm.getCheckValueRemotely()">get check value
                                remotely
                            </md-button>
                            <md-button class="md-raised" ng-click="vm.getCheckValueLocaly()">get check value locally
                            </md-button>
                            <md-button class="md-raised" ng-click="vm.refresh()">refresh</md-button>
                            <input ng-show="vm.order.CheckMacValue" class='md-button md-raised' type='submit'
                                   value='Submit'>
                        </fieldset>

                    </form>
                </md-content>
            </div>
        </md-card>
        <div layout-padding class="md-whiteframe-1dp" ng-if="vm.check.chkstr">
            <h3>Check</h3>
            <h4>Http Request:</h4>

            <p style="word-wrap: break-word">{{vm.check.chkstr}}</p><br>
            <h4>URI:</h4>

            <p style="word-wrap: break-word">{{vm.check.chkuristr}}</p> <br>
            <h4>MD5 Check Value:</h4>

            <p style="word-wrap: break-word">{{vm.check.chkvalue}}</p><br>
        </div>

        <div layout-padding class="md-whiteframe-1dp" ng-if="vm.allpayReturn">
            <md-content layout-padding layout-gt-sm="row">
                <form name="allpayReturn">
                    <fieldset>
                        <legend><h3>Data In Backend</h3></legend>
                        <md-input-container ng-repeat="(name, value) in vm.allpayReturn">
                            <label>{{name}}</label>
                            <input name="{{name}}" value="{{value}}">
                        </md-input-container>
                    </fieldset>
                </form>
            </md-content>
        </div>

        <div layout-padding class="md-whiteframe-1dp">
            <h3>Or Checkout Directly</h3>
            <div layout-padding layout-gt-sm="row">
                <allpay-checkout data="vm.data" stage ng-if="loggedIn">checkout</allpay-checkout>
                <md-button ng-if="!loggedIn">Please log in to checkout</md-button>
            </div>
        </div>

    </div>
</div>




